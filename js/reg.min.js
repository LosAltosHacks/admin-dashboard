var lah_api="https://api.losaltoshacks.com";$(function(){$("input[data-mask]").each(function(){var e=$(this);e.setMask(e.data("mask"))})});var smallui=!1;if($(window).width()>700){var screenHeight=$(window).height(),badgeHeight=$(".badge").height();$(".badge").css("margin-top",screenHeight/2-badgeHeight/2+"px"),$(".gradient-drop").css("opacity",1),setTimeout(function(){$(".field-sect").addClass("open")},1500)}else redrawWindow();function redrawWindow(){smallui=$(window).width()<=700;var e=$(window).height(),a=$(".badge").height();$(".badge").css("margin-top",e/2-a/2+"px"),$(".gradient-drop").css("opacity",1),$(".field-sect").addClass("open")}$(window).resize(function(){redrawWindow()}),$(".slInp").focus(function(){$(this).closest(".qGrp").addClass("focus")}),$(".slInp").blur(function(){$(this).closest(".qGrp.focus").removeClass("focus")}),$(".slInp, .radioBox","#namePage").on("input change",function(e){if($(this).is(".slInp.num")){var a=$(this).val(),i=a.replace(/[^0-9]/g,"");if(i!=a){$(this).val(i);var n=$(this).closest(".qGrp");n.is(":animated")||n.animate({"margin-left":"-20px"},200,function(){n.animate({"margin-left":"20px"},200,function(){n.animate({"margin-left":"0px"},200)})})}}var s=$("#en-first").val().trim(),t=$("#en-last").val().trim(),l=$("#en-age").val().trim(),d=$("#en-school").val().trim(),r=$("#en-grade .radioBox:checked").val();s=s.charAt(0).toUpperCase()+s.slice(1),t=t.charAt(0).toUpperCase()+t.slice(1),$("#bdg-name").text(s+" "+t),$("#bdg-name").width()>$(".badge").width()&&$("#bdg-name").text(s.charAt(0)+". "+t);var o=l>0?" ("+l+")":"";""!=d&&$("#bdg-school").text(d.match(/\b(\w)/g).join("").toUpperCase()),r>0?$("#bdg-grade-age").text(r+"th"+o):$("#bdg-grade-age").text("");var c=!0;$(".slInp","#namePage").each(function(){if(""==$(this).val().trim()||$(this).is(".invalidInp"))return c=!1,!1}),c?($("#en-grade .radioBox").removeAttr("disabled"),$("#en-grade").closest(".qGrp").addClass("focus"),""!=$("#en-grade .radioBox:checked").val().trim()?$("#contactPageBtn").removeClass("disabled"):$("#contactPageBtn").addClass("disabled")):($("#contactPageBtn").addClass("disabled"),$("#en-grade").closest(".qGrp").removeClass("focus"),$("#en-grade .radioBox").attr("disabled",""))}),$(".slInp, .radioBox, .slSel","#contactPage").on("input change",function(){$(this).is(".slSel")&&("Other"==(l=$(this).val())?$("#en-gender").removeClass("hidden").val(""):$("#en-gender").val(l).addClass("hidden"));$("#en-gender").val().trim();var e=$("#en-email").val().trim(),a=$("#en-phone").val().trim(),i=$("#en-par-name").val().trim(),n=$("#en-par-email").val().trim(),s=$("#en-par-phone").val().trim(),t=$("#en-shirtsize .radioBox:checked").val();if($(this).is(".slInp.email")){var l=$(this).val();if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l))$(this).removeClass("invalidInp");else{$(this).closest(".qGrp");$(this).addClass("invalidInp")}}if($(this).is(".slInp.phone")){l=$(this).val();if(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l))$(this).removeClass("invalidInp");else{$(this).closest(".qGrp");$(this).addClass("invalidInp")}}$("#bdg-email").text(e).prop("title",e),$("#bdg-email")[0].offsetWidth<$("#bdg-email")[0].scrollWidth&&$("#bdg-email").text(e.substr(0,6)+"..."+e.substr(e.length-6)),0==a.length&&0!=s.length&&"n/a"!=s?$("#bdg-phone").text(s):$("#bdg-phone").text(a),$("#bdg-parent-name").text(i),$("#bdg-parent-email").text(n),$("#bdg-shirt").text(t);var d=!0;$(".slInp","#contactPage").each(function(){if(""==$(this).val().trim()||$(this).is(".invalidInp"))return!!$(this).is(".optional")||(d=!1,!1)}),d?($("#en-shirtsize .radioBox").removeAttr("disabled"),$("#en-shirtsize").closest(".qGrp").addClass("focus"),""!=$("#en-shirtsize .radioBox:checked").val().trim()?$("#hackerBGBtn").removeClass("disabled"):$("#hackerBGBtn").addClass("disabled")):($("#hackerBGBtn").addClass("disabled"),$("#en-shirtsize").closest(".qGrp").removeClass("focus"),$("#en-shirtsize .radioBox").attr("disabled",""))}),$(".slInp, .radioBox","#HDPage").on("input change",function(){var e=$("#en-linkedin").val().trim(),a=$("#en-github").val().trim(),i=$("#en-attendednum .radioBox:checked").val();if($(this).is(".slInp.social")){var n=$(this).val();n.length>0&&-1==n.indexOf("linkedin.com/in/")&&-1==n.indexOf("github.com/")?$(this).addClass("invalidInp"):$(this).removeClass("invalidInp")}e.length>0&&(-1!=e.indexOf("linkedin.com/in/")?"-"==e.substr(-9,1)?$("#bdg-linkedin").text(($("#en-first").val().trim()+$("#en-last").val().trim()).toLowerCase()):$("#bdg-linkedin").text(e.substring(e.indexOf("/in/")+4)):$("#bdg-linkedin").text("")),a.length>0&&-1!=a.indexOf("github.com/")?$("#bdg-github").text(a.substring(a.indexOf(".com/")+5)):$("#bdg-github").text(""),$("#bdg-exp").text(i);var s=!0;$(".slInp","#HDPage").each(function(){if($(this).is(".invalidInp"))return s=!1,!1}),""==$("#en-attendednum .radioBox:checked").val().trim()&&(s=!1),s?$("#finReg").removeClass("disabled"):$("#finReg").addClass("disabled")}),$("#welcomeProgress").click(function(){$("#welcomePage").addClass("pullOffscreen"),$("#namePage").removeClass("unloadedPage"),$(window).scrollTop(0),$("#namePage .slInp")[0].focus()}),$("#contactPageBtn").click(function(){if(!$(this).is(".disabled")){var e=$("#en-age").val().trim();parseInt(e)>=18?($("#en-par-name").val("n/a").prop("disabled",!0),$("#en-par-email").val("n/a").prop("disabled",!0),$("#en-par-phone").val("n/a").prop("disabled",!0),$("#bdg-parent-name").text("n/a"),$("#bdg-parent-email").text("n/a")):($("#en-par-name").prop("disabled",!1),$("#en-par-email").prop("disabled",!1),$("#en-par-phone").prop("disabled",!1)),$("#namePage").addClass("pullOffscreen"),$(".badge").addClass("flip"),$("#contactPage").removeClass("unloadedPage"),$(window).scrollTop(0),$("#contactPage .slInp")[0].focus()}}),$("#hackerBGBack").click(function(){$("#namePage").removeClass("unloadedPage").removeClass("pullOffscreen"),$("#contactPage").addClass("unloadedPage"),$(".badge").removeClass("flip"),$("#namePage .slInp")[0].focus()}),$("#hackerBGBtn").click(function(){$(this).is(".disabled")||($("#contactPage").addClass("pullOffscreen"),$("#HDPage").removeClass("unloadedPage"),$(window).scrollTop(0),$("#HDPage .slInp")[0].focus())}),$("#finRegBack").click(function(){$("#contactPage").removeClass("unloadedPage").removeClass("pullOffscreen"),$("#HDPage").addClass("unloadedPage"),$("#contactPage .slInp")[0].focus()}),$("#finReg").click(function(){$(this).is(".disabled")||($("#HDPage").addClass("pullOffscreen"),$("#finalizePage").removeClass("unloadedPage"),$(window).scrollTop(0),$("#confirmBadge").fadeTo(300,1))}),$("#confirmBadge").click(function(e){e.preventDefault(),$(".badge").toggleClass("flip")}),$("#sendRegBack").click(function(){$("#HDPage").removeClass("unloadedPage").removeClass("pullOffscreen"),$("#finalizePage").addClass("unloadedPage"),$("#confirmBadge").fadeTo(300,0)}),$("#sendReg").click(function(){if(!$(this).is(".disabled")){$(this).prop("disabled",!0).addClass("disabled");var e={};e.first_name=$("#en-first").val().trim(),e.surname=$("#en-last").val().trim(),e.email=$("#en-email").val().trim(),e.age=parseInt($("#en-age").val().trim()),e.school=$("#en-school").val().trim(),e.grade=parseInt($("#en-grade .radioBox:checked").val()),0==$("#en-phone").val().trim().length?e.student_phone_number=$("#en-par-phone").val().trim():e.student_phone_number=$("#en-phone").val().trim(),e.gender=$("#en-gender").val().trim(),e.tshirt_size=$("#en-shirtsize .radioBox:checked").val(),e.previous_hackathons=$("#en-attendednum .radioBox:checked").val(),e.age<18&&(e.guardian_name=$("#en-par-name").val().trim(),e.guardian_email=$("#en-par-email").val().trim(),e.guardian_phone_number=$("#en-par-phone").val().trim()),0!=$("#en-github").val().trim().length&&(e.github_username=$("#en-github").val().trim()),0!=$("#en-linkedin").val().trim().length&&(e.linkedin_profile=$("#en-linkedin").val().trim()),0!=$("#en-allergies").val().trim().length&&(e.dietary_restrictions=$("#en-allergies").val().trim()),$.post(lah_api+"/registration/v1/signup",e).done(function(){if(smallui)return $("#confirmBadge").fadeOut(),$("#regDone").fadeIn(),$(".field-sect").fadeOut(),$(".badge").fadeIn(),$(".badge").removeClass("flip"),void $(".bdg-sect").css("width","100vw").css("flex-basis","auto");$(".badge").removeClass("flip"),$("#regDone").fadeIn(),$("#confirmBadge").fadeOut(),$(".field-sect").removeClass("open")}).fail(function(e){})}}),$("#backHome").click(function(){window.location.href="/"}),$(".termsCheck","#finalizePage").on("change",function(){$(this).closest(".qGrp").nextAll();0==$(".termsCheck:not(:checked)","#finalizePage").length?$("#sendReg").removeClass("disabled"):$("#sendReg").addClass("disabled")});